$DEBUG = false

begin
  require 'rubygems'
  require 'getoptlong'
  require 'singleton'
  require 'pp'
  require 'socket'
  require 'net/http'
  require 'resolv'
  require 'resolv-replace'
  require 'csv'
  require 'json'
  require 'colorize'
  require 'async'
  require 'async/dns'
  require 'async/http'
  require 'async/http/internet'
  require 'logger'
  require 'pry' if $DEBUG
rescue LoadError
  #banner
  puts "URLCrazy dependencies are not installed."
  puts "To install the dependencies, copy and paste the following command, or check the Installation section of the README.md file."
  puts "`$ bundle install`\n\n"
  exit 1
end

$logger = Logger.new(STDOUT)

if $DEBUG
  $logger.level = Logger::DEBUG
else
  $logger.level = Logger::FATAL
end

current_ulimit = `sh -c "ulimit -n"`
if current_ulimit != "unlimited" and current_ulimit.to_i < 10000
  puts "Warning. File descriptor limit may be too low. Check with `ulimit -a` and change with `ulimit -n 10000`"
end